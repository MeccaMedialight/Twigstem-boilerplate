{# data id:sitemenu src: sitemenu.json #}
{# data src: movies.json #}
{% extends "base.twig" %}
{% block content %}
    <script>
        const loadMovies = function () {
            alert("loadMovies")
            // $refs.ajaxcontent.innerHTML = "loading";
            // fetch('/api/movies.json?render=_partials/_moviegrid.twig').then(response => response.text()).then(html => { $refs.ajaxcontent.innerHTML = html })
        }
    </script>
    <section class="text-gray-600 body-font">
        <div class="container px-5 py-24 mx-auto">
            <div class="flex flex-col text-center w-full mb-20">
                <h2 class="text-xs text-indigo-500 tracking-widest font-medium title-font mb-1">Just a bunch of
                    films</h2>
                <h1 class="sm:text-3xl text-2xl font-medium title-font mb-4 text-gray-900">Master Cleanse Reliac
                    Heirloom</h1>
                <p class="lg:w-2/3 mx-auto leading-relaxed text-base">Whatever cardigan tote bag tumblr hexagon brooklyn
                    asymmetrical gentrify, subway tile poke farm-to-table. Franzen you probably haven't heard of them
                    man bun deep jianbing selfies heirloom prism food truck ugh squid celiac humblebrag.</p>
            </div>
            {# include "_partials/_moviegrid.twig" with movies #}
            <div id="ajaxcontent" x-ref="ajaxcontent">Loading</div>
            <button class="flex mx-auto mt-16 text-white bg-indigo-500 border-0 py-2 px-8 focus:outline-none hover:bg-indigo-600 rounded text-lg"
                    x-data="{ loading: false }"
                    x-on:click="fetch('/api/movies.json?render=_partials/_moviegrid.twig')
                    .then(response => response.json())
                    .then(data => { document.getElementById('ajaxcontent').innerHTML +=data.html; })"
            >
                Load More
            </button>
        </div>
    </section>

{% endblock %}